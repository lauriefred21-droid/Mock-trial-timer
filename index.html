{\rtf1\ansi\ansicpg1252\cocoartf2822
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fswiss\fcharset0 Helvetica;}
{\colortbl;\red255\green255\blue255;}
{\*\expandedcolortbl;;}
\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f0\fs24 \cf0 <!doctype html>\
<html lang="en">\
<head>\
  <meta charset="utf-8" />\
  <meta name="viewport" content="width=device-width, initial-scale=1" />\
  <meta name="theme-color" content="#111111" />\
  <meta name="apple-mobile-web-app-capable" content="yes" />\
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />\
  <title>Mock Trial Timer</title>\
\
  <link rel="manifest" href="manifest.webmanifest" />\
\
  <style>\
    :root \{ color-scheme: dark; \}\
    body \{\
      margin: 0;\
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;\
      background: #0b0b0c;\
      color: #f2f2f2;\
    \}\
    header \{\
      padding: 14px 16px;\
      display: flex;\
      align-items: center;\
      justify-content: space-between;\
      border-bottom: 1px solid #1e1e22;\
      position: sticky;\
      top: 0;\
      background: rgba(11,11,12,0.9);\
      backdrop-filter: blur(8px);\
    \}\
    header h1 \{\
      font-size: 16px;\
      margin: 0;\
      font-weight: 650;\
      letter-spacing: 0.2px;\
    \}\
    .wrap \{ padding: 16px; max-width: 760px; margin: 0 auto; \}\
    .grid \{\
      display: grid;\
      grid-template-columns: 1fr;\
      gap: 12px;\
    \}\
    @media (min-width: 760px) \{\
      .grid \{ grid-template-columns: 1.2fr 1fr; \}\
      .card.big \{ grid-column: 1 / span 2; \}\
    \}\
    .card \{\
      border: 1px solid #1e1e22;\
      background: #121216;\
      border-radius: 16px;\
      padding: 14px;\
      box-shadow: 0 8px 24px rgba(0,0,0,0.25);\
    \}\
    .label \{\
      display: flex;\
      align-items: baseline;\
      justify-content: space-between;\
      gap: 10px;\
      margin-bottom: 8px;\
    \}\
    .label .name \{\
      font-size: 13px;\
      opacity: 0.85;\
      font-weight: 650;\
    \}\
    .label .hint \{\
      font-size: 12px;\
      opacity: 0.65;\
    \}\
    .time \{\
      font-variant-numeric: tabular-nums;\
      font-size: 46px;\
      line-height: 1.05;\
      letter-spacing: 0.5px;\
      margin: 6px 0 10px;\
      user-select: none;\
    \}\
    .big .time \{ font-size: 64px; \}\
    .row \{\
      display: flex;\
      flex-wrap: wrap;\
      gap: 10px;\
    \}\
    button, .toggle \{\
      border: 1px solid #2a2a33;\
      background: #1b1b22;\
      color: #f2f2f2;\
      padding: 12px 14px;\
      border-radius: 14px;\
      font-size: 14px;\
      font-weight: 650;\
      cursor: pointer;\
      touch-action: manipulation;\
      user-select: none;\
    \}\
    button:active \{ transform: scale(0.99); \}\
    button.primary \{ background: #f2f2f2; color: #0b0b0c; border-color: #f2f2f2; \}\
    button.danger \{ background: #2a1111; border-color: #4a1a1a; \}\
    button.ghost \{ background: transparent; \}\
    .split \{\
      display: grid;\
      grid-template-columns: 1fr 1fr;\
      gap: 10px;\
      width: 100%;\
    \}\
    .small \{\
      font-size: 12px;\
      opacity: 0.7;\
      margin-top: 8px;\
      line-height: 1.35;\
    \}\
    .top-controls \{\
      display: flex;\
      gap: 10px;\
      align-items: center;\
    \}\
    .chip \{\
      border: 1px solid #2a2a33;\
      background: #14141a;\
      border-radius: 999px;\
      padding: 10px 12px;\
      font-size: 13px;\
      font-weight: 650;\
      display: inline-flex;\
      align-items: center;\
      gap: 8px;\
      user-select: none;\
    \}\
    .chip input \{ transform: scale(1.1); \}\
  </style>\
</head>\
<body>\
  <header>\
    <h1>Mock Trial Timer</h1>\
    <div class="top-controls">\
      <label class="chip" title="Keep screen awake (if supported)">\
        <input id="wakeToggle" type="checkbox" />\
        Wake Lock\
      </label>\
      <button class="ghost" id="resetAllBtn" title="Reset everything">Reset All</button>\
    </div>\
  </header>\
\
  <div class="wrap">\
    <div class="grid">\
      <section class="card big" aria-label="Current Speech">\
        <div class="label">\
          <div class="name">Current Speech</div>\
          <div class="hint">Start/stop per speech</div>\
        </div>\
        <div class="time" id="speechTime">00:00.0</div>\
        <div class="row">\
          <div class="split">\
            <button class="primary" id="speechStartStop">Start</button>\
            <button class="ghost" id="speechReset">Reset</button>\
          </div>\
          <button id="addToOurs">Add speech \uc0\u8594  Our Total</button>\
          <button id="addToTheirs">Add speech \uc0\u8594  Their Total</button>\
        </div>\
        <div class="small">\
          Tip: If you want totals to run continuously instead of \'93adding\'94 each speech, use the Our/Their Start buttons below.\
        </div>\
      </section>\
\
      <section class="card" aria-label="Our Total Time">\
        <div class="label">\
          <div class="name">Our Total</div>\
          <div class="hint">Cumulative</div>\
        </div>\
        <div class="time" id="ourTime">00:00.0</div>\
        <div class="row">\
          <div class="split">\
            <button class="primary" id="ourStartStop">Start</button>\
            <button class="ghost" id="ourReset">Reset</button>\
          </div>\
        </div>\
      </section>\
\
      <section class="card" aria-label="Opposing Total Time">\
        <div class="label">\
          <div class="name">Their Total</div>\
          <div class="hint">Cumulative</div>\
        </div>\
        <div class="time" id="theirTime">00:00.0</div>\
        <div class="row">\
          <div class="split">\
            <button class="primary" id="theirStartStop">Start</button>\
            <button class="ghost" id="theirReset">Reset</button>\
          </div>\
        </div>\
      </section>\
    </div>\
\
    <p class="small" style="margin-top:14px;">\
      Designed for mock trial: minimal visuals, big digits, one-tap controls. Stores times locally so a refresh won\'92t nuke your round.\
    </p>\
  </div>\
\
  <script>\
    // --- Utility: format time ---\
    function formatMs(ms) \{\
      ms = Math.max(0, ms);\
      const totalTenths = Math.floor(ms / 100);\
      const tenths = totalTenths % 10;\
      const totalSeconds = Math.floor(totalTenths / 10);\
      const seconds = totalSeconds % 60;\
      const minutes = Math.floor(totalSeconds / 60);\
      const mm = String(minutes).padStart(2, '0');\
      const ss = String(seconds).padStart(2, '0');\
      return `$\{mm\}:$\{ss\}.$\{tenths\}`;\
    \}\
\
    // --- Stopwatch class (low-power: only ticks while running) ---\
    class Stopwatch \{\
      constructor(key, onUpdate) \{\
        this.key = key;\
        this.onUpdate = onUpdate;\
        this.elapsed = 0;     // ms stored\
        this.running = false;\
        this._t0 = 0;\
        this._timer = null;\
\
        this.load();\
        this.onUpdate(this.getElapsed());\
      \}\
\
      getElapsed() \{\
        if (!this.running) return this.elapsed;\
        return this.elapsed + (performance.now() - this._t0);\
      \}\
\
      start() \{\
        if (this.running) return;\
        this.running = true;\
        this._t0 = performance.now();\
\
        // Update 5x/sec only while running (battery-friendly).\
        this._timer = setInterval(() => \{\
          this.onUpdate(this.getElapsed());\
          this.save();\
        \}, 200);\
\
        this.save();\
      \}\
\
      stop() \{\
        if (!this.running) return;\
        this.elapsed = this.getElapsed();\
        this.running = false;\
        clearInterval(this._timer);\
        this._timer = null;\
        this.onUpdate(this.elapsed);\
        this.save();\
      \}\
\
      toggle() \{\
        this.running ? this.stop() : this.start();\
      \}\
\
      reset() \{\
        this.elapsed = 0;\
        if (this.running) this._t0 = performance.now();\
        this.onUpdate(this.getElapsed());\
        this.save();\
      \}\
\
      add(ms) \{\
        this.elapsed += ms;\
        if (this.running) this._t0 = performance.now(); // keep continuity\
        this.onUpdate(this.getElapsed());\
        this.save();\
      \}\
\
      save() \{\
        const payload = \{ elapsed: this.elapsed, running: this.running, t0: this._t0 \};\
        localStorage.setItem(this.key, JSON.stringify(payload));\
      \}\
\
      load() \{\
        try \{\
          const raw = localStorage.getItem(this.key);\
          if (!raw) return;\
          const payload = JSON.parse(raw);\
          this.elapsed = payload.elapsed || 0;\
          this.running = !!payload.running;\
\
          // If it was running, resume conservatively:\
          if (this.running) \{\
            this._t0 = performance.now();\
            this._timer = setInterval(() => \{\
              this.onUpdate(this.getElapsed());\
              this.save();\
            \}, 200);\
          \}\
        \} catch (e) \{\
          // ignore\
        \}\
      \}\
    \}\
\
    // --- Wake Lock (optional) ---\
    let wakeLock = null;\
    async function requestWakeLock() \{\
      try \{\
        if (!('wakeLock' in navigator)) return false;\
        wakeLock = await navigator.wakeLock.request('screen');\
        wakeLock.addEventListener('release', () => \{\});\
        return true;\
      \} catch \{\
        return false;\
      \}\
    \}\
    async function releaseWakeLock() \{\
      try \{ if (wakeLock) await wakeLock.release(); \} catch \{\}\
      wakeLock = null;\
    \}\
\
    // --- Bind UI ---\
    const speechTimeEl = document.getElementById('speechTime');\
    const ourTimeEl = document.getElementById('ourTime');\
    const theirTimeEl = document.getElementById('theirTime');\
\
    const speechBtn = document.getElementById('speechStartStop');\
    const ourBtn = document.getElementById('ourStartStop');\
    const theirBtn = document.getElementById('theirStartStop');\
\
    function setBtn(btn, running) \{ btn.textContent = running ? 'Stop' : 'Start'; \}\
\
    const speech = new Stopwatch('mt_speech', (ms) => \{\
      speechTimeEl.textContent = formatMs(ms);\
      setBtn(speechBtn, speech.running);\
    \});\
    const ours = new Stopwatch('mt_ours', (ms) => \{\
      ourTimeEl.textContent = formatMs(ms);\
      setBtn(ourBtn, ours.running);\
    \});\
    const theirs = new Stopwatch('mt_theirs', (ms) => \{\
      theirTimeEl.textContent = formatMs(ms);\
      setBtn(theirBtn, theirs.running);\
    \});\
\
    // Button actions\
    speechBtn.addEventListener('click', () => speech.toggle());\
    ourBtn.addEventListener('click', () => ours.toggle());\
    theirBtn.addEventListener('click', () => theirs.toggle());\
\
    document.getElementById('speechReset').addEventListener('click', () => speech.reset());\
    document.getElementById('ourReset').addEventListener('click', () => ours.reset());\
    document.getElementById('theirReset').addEventListener('click', () => theirs.reset());\
\
    // Add current speech elapsed into totals (useful if you prefer \'93segment add\'94 totals)\
    document.getElementById('addToOurs').addEventListener('click', () => \{\
      const ms = speech.getElapsed();\
      ours.add(ms);\
      speech.reset();\
    \});\
    document.getElementById('addToTheirs').addEventListener('click', () => \{\
      const ms = speech.getElapsed();\
      theirs.add(ms);\
      speech.reset();\
    \});\
\
    // Reset all\
    document.getElementById('resetAllBtn').addEventListener('click', () => \{\
      speech.reset(); ours.reset(); theirs.reset();\
    \});\
\
    // Wake lock toggle\
    const wakeToggle = document.getElementById('wakeToggle');\
    wakeToggle.addEventListener('change', async () => \{\
      if (wakeToggle.checked) \{\
        const ok = await requestWakeLock();\
        if (!ok) wakeToggle.checked = false;\
      \} else \{\
        await releaseWakeLock();\
      \}\
      localStorage.setItem('mt_wake', JSON.stringify(\{ enabled: wakeToggle.checked \}));\
    \});\
\
    // Restore toggle state\
    try \{\
      const s = JSON.parse(localStorage.getItem('mt_wake') || '\{\}');\
      if (s.enabled) \{\
        wakeToggle.checked = true;\
        requestWakeLock().then(ok => \{ if (!ok) wakeToggle.checked = false; \});\
      \}\
    \} catch \{\}\
\
    // If page becomes hidden, wake lock may release; re-request when visible if toggled on\
    document.addEventListener('visibilitychange', async () => \{\
      if (document.visibilityState === 'visible' && wakeToggle.checked) \{\
        await requestWakeLock();\
      \}\
    \});\
\
    // Register service worker for offline + "installed app" behavior\
    if ('serviceWorker' in navigator) \{\
      window.addEventListener('load', () => \{\
        navigator.serviceWorker.register('./sw.js').catch(() => \{\});\
      \});\
    \}\
  </script>\
</body>\
</html>}